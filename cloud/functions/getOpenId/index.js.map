{"version":3,"file":"index.js","sources":["../../src/lib/util.ts","../../src/functions/getOpenId/index.ts"],"sourcesContent":["/**\n * 解析 json，不抛出异常，若发生异常，返回 defaultValue。\n *\n * @param json json 字符串\n * @param defaultValue 发生错误时，返回的默认值，默认 undefined\n */\nexport function tryParseJson<T = any>(json: string): T | undefined\nexport function tryParseJson<T = any>(json: string, defaultValue: T): T\nexport function tryParseJson<T = any>(json: string, defaultValue?: T) {\n  try {\n    return JSON.parse(json) as T\n  } catch {\n    return defaultValue\n  }\n}\n","import cloud from 'wx-server-sdk'\nimport { tryParseJson } from '../../lib/util'\n\nexport default async () => {\n  // 获取基础信息\n  const wxContext = cloud.getWXContext()\n\n  const json = tryParseJson('{\"a\": 1, \"b\": 2, \"c\": 3}', { a: 8 })\n\n  const number = await Promise.resolve(1)\n\n  return {\n    openid: wxContext.OPENID,\n    appid: wxContext.APPID,\n    unionid: wxContext.UNIONID,\n    env: wxContext.ENV,\n    wxContext,\n    json,\n    number\n  }\n}\n"],"names":["cloud"],"mappings":";;;;;;;;;;;;SAQgB,YAAY,CAAU,IAAY,EAAE,YAAgB;IAClE,IAAI;QACF,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAM,CAAA;KAC7B;IAAC,MAAM;QACN,OAAO,YAAY,CAAA;KACpB;AACH;;kBCXe;IAEb,MAAM,SAAS,GAAGA,2BAAK,CAAC,YAAY,EAAE,CAAA;IAEtC,MAAM,IAAI,GAAG,YAAY,CAAC,0BAA0B,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAA;IAE/D,MAAM,MAAM,GAAG,MAAM,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAA;IAEvC,OAAO;QACL,MAAM,EAAE,SAAS,CAAC,MAAM;QACxB,KAAK,EAAE,SAAS,CAAC,KAAK;QACtB,OAAO,EAAE,SAAS,CAAC,OAAO;QAC1B,GAAG,EAAE,SAAS,CAAC,GAAG;QAClB,SAAS;QACT,IAAI;QACJ,MAAM;KACP,CAAA;AACH,CAAC;;;;;;;;"}